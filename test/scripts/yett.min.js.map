{"version":3,"file":"yett.min.js","sources":["../../node_modules/mutationobserver-shim/dist/mutationobserver.min.js","../../src/checks.js","../../src/variables.js","../../src/observer.js","../../src/monkey.js","../../src/unblock.js"],"sourcesContent":["// mutationobserver-shim v0.3.3 (github.com/megawac/MutationObserver.js)\n// Authors: Graeme Yeates (github.com/megawac) \n/*\n Shim for MutationObserver interface\n Author: Graeme Yeates (github.com/megawac)\n Repository: https://github.com/megawac/MutationObserver.js\n License: WTFPL V2, 2004 (wtfpl.net).\n Though credit and staring the repo will make me feel pretty, you can modify and redistribute as you please.\n Attempts to follow spec (https://www.w3.org/TR/dom/#mutation-observers) as closely as possible for native javascript\n See https://github.com/WebKit/webkit/blob/master/Source/WebCore/dom/MutationObserver.cpp for current webkit source c++ implementation\n*/\nwindow.MutationObserver||(window.MutationObserver=function(y){function z(a){this.i=[];this.m=a}function K(a){(function c(){var d=a.takeRecords();d.length&&a.m(d,a);a.h=setTimeout(c,z._period)})()}function r(a){var b={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null},c;for(c in a)b[c]!==y&&a[c]!==y&&(b[c]=a[c]);return b}function L(a,b){var c=E(a,b);return function(d){var f=d.length;b.a&&3===a.nodeType&&\na.nodeValue!==c.a&&d.push(new r({type:\"characterData\",target:a,oldValue:c.a}));b.b&&c.b&&C(d,a,c.b,b.f);if(b.c||b.g)var m=M(d,a,c,b);if(m||d.length!==f)c=E(a,b)}}function N(a,b){return b.value}function O(a,b){return\"style\"!==b.name?b.value:a.style.cssText}function C(a,b,c,d){for(var f={},m=b.attributes,k,g,p=m.length;p--;)k=m[p],g=k.name,d&&d[g]===y||(F(b,k)!==c[g]&&a.push(r({type:\"attributes\",target:b,attributeName:g,oldValue:c[g],attributeNamespace:k.namespaceURI})),f[g]=!0);for(g in c)f[g]||a.push(r({target:b,\ntype:\"attributes\",attributeName:g,oldValue:c[g]}))}function M(a,b,c,d){function f(g,p,t,q,x){var A=g.length-1;x=-~((A-x)/2);for(var h,l,e;e=g.pop();)h=t[e.j],l=q[e.l],d.c&&x&&Math.abs(e.j-e.l)>=A&&(a.push(r({type:\"childList\",target:p,addedNodes:[h],removedNodes:[h],nextSibling:h.nextSibling,previousSibling:h.previousSibling})),x--),d.b&&l.b&&C(a,h,l.b,d.f),d.a&&3===h.nodeType&&h.nodeValue!==l.a&&a.push(r({type:\"characterData\",target:h,oldValue:l.a})),d.g&&m(h,l)}function m(g,p){for(var t=g.childNodes,\nq=p.c,x=t.length,A=q?q.length:0,h,l,e,n,v,B=0,w=0,u=0;w<x||u<A;)n=t[w],v=(e=q[u])&&e.node,n===v?(d.b&&e.b&&C(a,n,e.b,d.f),d.a&&e.a!==y&&n.nodeValue!==e.a&&a.push(r({type:\"characterData\",target:n,oldValue:e.a})),l&&f(l,g,t,q,B),d.g&&(n.childNodes.length||e.c&&e.c.length)&&m(n,e),w++,u++):(k=!0,h||(h={},l=[]),n&&(h[e=G(n)]||(h[e]=!0,-1===(e=H(q,n,u,\"node\"))?d.c&&(a.push(r({type:\"childList\",target:g,addedNodes:[n],nextSibling:n.nextSibling,previousSibling:n.previousSibling})),B++):l.push({j:w,l:e})),\nw++),v&&v!==t[w]&&(h[e=G(v)]||(h[e]=!0,-1===(e=H(t,v,w))?d.c&&(a.push(r({type:\"childList\",target:p.node,removedNodes:[v],nextSibling:q[u+1],previousSibling:q[u-1]})),B--):l.push({j:e,l:u})),u++));l&&f(l,g,t,q,B)}var k;m(b,c);return k}function E(a,b){var c=!0;return function m(f){var k={node:f};!b.a||3!==f.nodeType&&8!==f.nodeType?(b.b&&c&&1===f.nodeType&&(k.b=I(f.attributes,function(g,p){if(!b.f||b.f[p.name])g[p.name]=F(f,p);return g},{})),c&&(b.c||b.a||b.b&&b.g)&&(k.c=P(f.childNodes,m)),c=b.g):k.a=\nf.nodeValue;return k}(a)}function G(a){try{return a.id||(a.mo_id=a.mo_id||J++)}catch(b){try{return a.nodeValue}catch(c){return J++}}}function P(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d,a);return c}function I(a,b,c){for(var d=0;d<a.length;d++)c=b(c,a[d],d,a);return c}function H(a,b,c,d){for(;c<a.length;c++)if((d?a[c][d]:a[c])===b)return c;return-1}z._period=30;z.prototype={observe:function(a,b){for(var c={b:!!(b.attributes||b.attributeFilter||b.attributeOldValue),c:!!b.childList,g:!!b.subtree,\na:!(!b.characterData&&!b.characterDataOldValue)},d=this.i,f=0;f<d.length;f++)d[f].s===a&&d.splice(f,1);b.attributeFilter&&(c.f=I(b.attributeFilter,function(m,k){m[k]=!0;return m},{}));d.push({s:a,o:L(a,c)});this.h||K(this)},takeRecords:function(){for(var a=[],b=this.i,c=0;c<b.length;c++)b[c].o(a);return a},disconnect:function(){this.i=[];clearTimeout(this.h);this.h=null}};var D=document.createElement(\"i\");D.style.top=0;var F=(D=\"null\"!=D.attributes.style.value)?N:O,J=1;return z}(void 0));\n//# sourceMappingURL=mutationobserver.map\n","import { patterns, TYPE_ATTRIBUTE } from './variables'\nconst loggedBlacklist = [];\n\nexport const isOnBlacklist = (src, type) => {\n    const onBlacklist = src &&\n    (!type || type !== TYPE_ATTRIBUTE) &&\n    (\n        (!patterns.blacklist || patterns.blacklist.some(pattern => pattern.test(src))) &&\n        (!patterns.whitelist || patterns.whitelist.every(pattern => !pattern.test(src)))\n    );\n\n\n    if(onBlacklist && loggedBlacklist.indexOf(src) === -1){\n        loggedBlacklist.push(src);\n        console.info(`Script src '${src}' is blocked`);\n    }\n\n    return onBlacklist;\n}\n\nexport const willBeUnblocked = function(script) {\n    const src = script.getAttribute('src')\n    return (\n        patterns.blacklist && patterns.blacklist.every(entry => !entry.test(src)) ||\n        patterns.whitelist && patterns.whitelist.some(entry => entry.test(src))\n    )\n}","export const TYPE_ATTRIBUTE = 'javascript/blocked'\nexport const UNBLOCK_INLINESCRIPTS = window.YETT_UNBLOCKINLINE || false\n\nexport const patterns = {\n    blacklist: window.YETT_BLACKLIST,\n    whitelist: window.YETT_WHITELIST\n}\n\n// Backup list containing the original blacklisted script elements\nexport const backupScripts = {\n    blacklisted: []\n}","import { backupScripts, TYPE_ATTRIBUTE } from './variables'\nimport { isOnBlacklist } from './checks'\n\n// Setup a mutation observer to track DOM insertion\nexport const observer = new MutationObserver(mutations => {\n    for (let i = 0; i < mutations.length; i++) {\n        const { addedNodes } = mutations[i];\n        for(let i = 0; i < addedNodes.length; i++) {\n            const node = addedNodes[i]\n            // For each added script tag\n            if(node.nodeType === 1 && node.tagName === 'SCRIPT' && !node.hasAttribute('data-noblock')) {\n                const src = node.src\n                const type = node.type\n                // If the src is inside the blacklist and is not inside the whitelist\n                if(isOnBlacklist(src, type)) {\n                    // We backup a copy of the script node\n                    backupScripts.blacklisted.push(node.cloneNode())\n\n                    // Blocks inline script execution in Safari & Chrome\n                    node.type = TYPE_ATTRIBUTE\n\n                    // Firefox has this additional event which prevents scripts from beeing executed\n                    const beforeScriptExecuteListener = function (event) {\n                        // Prevent only marked scripts from executing\n                        if(node.getAttribute('type') === TYPE_ATTRIBUTE)\n                            event.preventDefault()\n                        node.removeEventListener('beforescriptexecute', beforeScriptExecuteListener)\n                    }\n                    node.addEventListener('beforescriptexecute', beforeScriptExecuteListener)\n\n                    // Remove the node from the DOM\n                    node.parentElement && node.parentElement.removeChild(node)\n                }\n            }\n        }\n    }\n})\n\n// Starts the monitoring\nobserver.observe(document.documentElement, {\n    childList: true,\n    subtree: true\n})","import { TYPE_ATTRIBUTE } from './variables'\nimport { isOnBlacklist } from './checks'\n\nconst createElementBackup = document.createElement\n\n// Monkey patch the createElement method to prevent dynamic scripts from executing\ndocument.createElement = function(...args) {\n    // If this is not a script tag, bypass\n    if(args[0].toLowerCase() !== 'script')\n        return createElementBackup.bind(document)(...args)\n\n    const scriptElt = createElementBackup.bind(document)(...args)\n    const originalSetAttribute = scriptElt.setAttribute.bind(scriptElt)\n\n    // Define getters / setters to ensure that the script type is properly set\n    try {\n        Object.defineProperties(scriptElt, {\n            'src': {\n                get() {\n                    return scriptElt.getAttribute('src')\n                },\n                set(value) {\n                    if(isOnBlacklist(value, scriptElt.type) && !scriptElt.hasAttribute('data-noblock')) {\n                        originalSetAttribute('type', TYPE_ATTRIBUTE)\n                    }\n                    originalSetAttribute('src', value)\n                    return true\n                }\n            },\n            'type': {\n                set(value) {\n                    const typeValue =\n                        isOnBlacklist(scriptElt.src, scriptElt.type) && !scriptElt.hasAttribute('data-noblock') ?\n                            TYPE_ATTRIBUTE :\n                        value\n                    originalSetAttribute('type', typeValue)\n                    return true\n                }\n            }\n        })\n\n        // Monkey patch the setAttribute function so that the setter is called instead\n        scriptElt.setAttribute = function(name, value) {\n            if(name === 'type' || name === 'src')\n                scriptElt[name] = value\n            else\n                HTMLScriptElement.prototype.setAttribute.call(scriptElt, name, value)\n        }\n    } catch (error) {\n        console.warn(\n            'Yett: unable to prevent script execution for script src ', scriptElt.src, '.\\n',\n            'A likely cause would be because you are using a third-party browser extension that monkey patches the \"document.createElement\" function.'\n        )\n    }\n\n    return scriptElt\n}","import {\n    patterns,\n    backupScripts,\n    TYPE_ATTRIBUTE,\n    UNBLOCK_INLINESCRIPTS\n} from './variables'\n\nimport {\n    willBeUnblocked\n} from './checks'\n\nimport {\n    observer\n} from './observer'\n\nconst URL_REPLACER_REGEXP = new RegExp('[|\\\\{}()[\\\\]^$+*?.]', 'g')\n\n// Unblocks all (or a selection of) blacklisted scripts.\nexport const unblock = function(...scriptUrlsOrRegexes) {\n    if(scriptUrlsOrRegexes.length < 1) {\n        patterns.blacklist = []\n        patterns.whitelist = []\n    } else {\n        if(patterns.blacklist) {\n            patterns.blacklist = patterns.blacklist.filter(pattern => (\n                scriptUrlsOrRegexes.every(urlOrRegexp => {\n                    if(typeof urlOrRegexp === 'string')\n                        return !pattern.test(urlOrRegexp)\n                    else if(urlOrRegexp instanceof RegExp)\n                        return pattern.toString() !== urlOrRegexp.toString()\n                })\n            ))\n        }\n        if(patterns.whitelist) {\n            patterns.whitelist = patterns.whitelist.concat(\n                scriptUrlsOrRegexes\n                    .map(urlOrRegexp => {\n                        if(typeof urlOrRegexp === 'string') {\n                            const escapedUrl = urlOrRegexp.replace(URL_REPLACER_REGEXP, '\\\\$&')\n                            const permissiveRegexp = '.*' + escapedUrl + '.*'\n                            if(patterns.whitelist.every(p => p.toString() !== permissiveRegexp.toString())) {\n                                return new RegExp(permissiveRegexp)\n                            }\n                        } else if(urlOrRegexp instanceof RegExp) {\n                            if(patterns.whitelist.every(p => p.toString() !== urlOrRegexp.toString())) {\n                                return urlOrRegexp\n                            }\n                        }\n                        return null\n                    })\n                    .filter(Boolean)\n            )\n        }\n    }\n\n\n    // Parse existing script tags with a marked type\n    const tags = document.querySelectorAll(`script[type=\"${TYPE_ATTRIBUTE}\"]`)\n    for(let i = 0; i < tags.length; i++) {\n        const script = tags[i]\n        if(willBeUnblocked(script)) {\n            script.type = 'application/javascript'\n            backupScripts.blacklisted.push(script)\n            script.parentElement.removeChild(script)\n        }\n    }\n\n    // Exclude 'whitelisted' scripts from the blacklist and append them to <head>\n    //Looping array in reverse so that splice doesn't mess up indexes\n    for(let i = backupScripts.blacklisted.length - 1; i >= 0; --i) {\n        const script = backupScripts.blacklisted[i];\n        if(willBeUnblocked(script)) {\n            const scriptNode = document.createElement('script')\n            scriptNode.setAttribute('src', script.src)\n            scriptNode.setAttribute('type', 'application/javascript')\n            document.head.appendChild(scriptNode)\n            backupScripts.blacklisted.splice(i, 1)\n        }\n    }\n\n    // Disconnect the observer if the blacklist is empty for performance reasons\n    if(patterns.blacklist && patterns.blacklist.length < 1) {\n        observer.disconnect()\n    }\n\n    //If we have javascript/inlineblocked inline scripts ( without a src ) unblock those as well.\n    if( UNBLOCK_INLINESCRIPTS ) {\n        const scripts = document.querySelectorAll('script[type=\"javascript/inlineblocked\"]');\n        for(let i = 0; i < scripts.length; i++ ){\n            const script = scripts[i];\n            const newScript = document.createElement('script');\n            newScript.type = 'text/javascript';\n            newScript.innerText = script.innerText;\n            script.parentNode.replaceChild(newScript, script);\n        }\n    }\n}"],"names":["window","MutationObserver","y","z","a","this","i","m","r","c","b","type","target","addedNodes","removedNodes","previousSibling","nextSibling","attributeName","attributeNamespace","oldValue","L","E","d","f","length","nodeType","nodeValue","push","C","g","p","t","q","x","h","l","e","A","pop","j","Math","abs","n","v","childNodes","B","w","u","node","k","G","H","M","attributes","name","F","namespaceURI","I","P","id","mo_id","J","_period","prototype","observe","attributeFilter","attributeOldValue","childList","subtree","characterData","characterDataOldValue","s","splice","o","takeRecords","setTimeout","K","disconnect","clearTimeout","D","document","createElement","style","top","value","cssText","isOnBlacklist","src","onBlacklist","TYPE_ATTRIBUTE","patterns","blacklist","some","pattern","test","whitelist","every","loggedBlacklist","indexOf","console","info","willBeUnblocked","script","getAttribute","entry","UNBLOCK_INLINESCRIPTS","YETT_UNBLOCKINLINE","YETT_BLACKLIST","YETT_WHITELIST","backupScripts","blacklisted","observer","mutations","tagName","hasAttribute","cloneNode","addEventListener","beforeScriptExecuteListener","event","preventDefault","removeEventListener","parentElement","removeChild","documentElement","createElementBackup","args","toLowerCase","bind","scriptElt","originalSetAttribute","setAttribute","Object","defineProperties","get","set","typeValue","HTMLScriptElement","call","error","warn","URL_REPLACER_REGEXP","RegExp","scriptUrlsOrRegexes","filter","urlOrRegexp","toString","concat","map","permissiveRegexp","replace","Boolean","tags","querySelectorAll","scriptNode","head","appendChild","scripts","newScript","innerText","parentNode","replaceChild"],"mappings":"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"}